<!DOCTYPE html>
<html lang="en">

<div class="AdvisorChat"
    style="transform: scale(0.7); width: 50%; height: 50%; left: 0px; top: 0px; position: relative; background: white">
    <div class="Frame1" style="width: 100px; height: 100px; left: -42px; top: 1800px; position: absolute"></div>
    <div class="Group23" style="width: 721px; height: 128px; left: 902px; top: 1702px; position: absolute">
        <div class="Group6" style="width: 140px; height: 128px; left: 581px; top: 0px; position: absolute">
            <div class="Ellipse1" onclick="toggleChatbot()"
                style="width: 140px; height: 128px; left: 0px; top: 0px; position: absolute; background: #D9D9D9; box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25)">
            </div>
            <div
                style="width: 43px; height: 15px; left: 42px; top: 49px; position: absolute; color: black; font-size: 96px; font-family: Montserrat; font-weight: 700; line-height: 30px; word-wrap: break-word">
                ?</div>
        </div>

        <div id="wholeChatBox" class="Group29" style="display:none;">
            <div class="Group28" style="width: 695px; height: 977px; left: 33px; top: 0px; position: absolute">
                <div class="Rectangle4"
                    style="width: 695px; height: 977px; left: 0px; top: 0px; position: absolute; background: #D9D9D9; box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25); border-radius: 30px; z-index: 2">
                </div>


                <input type="text" id="userInput" placeholder="Type your message..."
                    style="width: 638px; height: 108px; left: 39px; top: 828px; position: absolute; z-index: 3">
                <button onclick="sendMessage()"
                    style="width: 100px; height: 75px; left: 110%; top: 828px; position: absolute; z-index: 3">Send</button>

                <div id="chat" class="Response" style="position: absolute; z-index: 3">
                    <p id="botResponse" style="font-size:30px;"></p>
                </div>
            </div>
        </div>

        <div class="NeedAssistAskBisonbot"
            style="width: 645px; height: 29px; left: 0px; top: 50px; position: absolute; text-align: center; color: black; font-size: 40px; font-family: Montserrat; font-weight: 300; line-height: 30px; word-wrap: break-word">
            need assist? ask BisonBot</div>
    </div>
    <div class="Group9" style="width: 845px; height: 61px; left: 35px; top: 1734px; position: absolute">
        <a href="student_homepage.html"
            style="width: 209px; height: 48px; left: 0px; top: 0px; position: absolute; text-align: center; color: black; font-size: 40px; font-family: Montserrat; font-weight: 300; text-decoration: underline; line-height: 30px; word-wrap: break-word; display: block;">
            Home
        </a>
        <a href="student_profile.html"
            style="width: 209px; height: 48px; left: 193px; top: 0px; position: absolute; text-align: center; color: black; font-size: 40px; font-family: Montserrat; font-weight: 300; text-decoration: underline; line-height: 30px; word-wrap: break-word; display: block;">
            Profile
        </a>
        <a href="student_advisorChat.html"
            style="width: 209px; height: 48px; left: 398px; top: 0px; position: absolute; text-align: center; color: black; font-size: 40px; font-family: Montserrat; font-weight: 300; text-decoration: underline; line-height: 30px; word-wrap: break-word; display: block;">
            Advisor <br />Chat
        </a>
        <a href="student_gradScheme.html"
            style="width: 226px; height: 61px; left: 619px; top: 0px; position: absolute; text-align: center; color: black; font-size: 40px; font-family: Montserrat; font-weight: 300; text-decoration: underline; line-height: 30px; word-wrap: break-word; display: block;">
            Graduation<br />Scheme
        </a>
    </div>

    <div class="Group42" style="width: 1535px; height: 1531px; left: 72px; top: 108px; position: absolute">
        <div class="Ellipse2"
            style="width: 548px; height: 467px; left: 30px; top: 0px; position: absolute; background: #D9D9D9; border-radius: 9999px">
        </div>
        <div class="Group5" style="width: 840px; height: 374px; left: 691px; top: 46px; position: absolute">
            <div class="Rectangle3"
                style="width: 840px; height: 374px; left: 0px; top: 0px; position: absolute; background: #F6F6F6; box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25)">
            </div>
            <div class="YourAdvisorAdvisorNameEmailEmailPhonePhoneNumberPreferredMethodOfContactContactPreference"
                style="width: 768px; height: 285px; left: 37px; top: 63px; position: absolute"><span
                    style="color: black; font-size: 40px; font-family: Montserrat; font-weight: 600; text-decoration: underline; line-height: 30px; word-wrap: break-word">Your
                    Advisor: {advisor name} <br /></span><span
                    style="color: black; font-size: 16px; font-family: Montserrat; font-weight: 600; text-decoration: underline; line-height: 30px; word-wrap: break-word"><br /></span><span
                    style="color: black; font-size: 30px; font-family: Montserrat; font-style: italic; font-weight: 400; line-height: 30px; word-wrap: break-word">email:
                    {email}<br />phone: {phone number}<br /><br /></span><span
                    style="color: black; font-size: 20px; font-family: Montserrat; font-style: italic; font-weight: 400; line-height: 30px; word-wrap: break-word">preferred
                    method of contact: {contact preference}<br /></span></div>
            <div class="Button" style="width: 235px; height: 70px; left: 570px; top: 171px; position: absolute">
                <div class="Rectangle2"
                    style="width: 235px; height: 70px; left: 0px; top: 0px; position: absolute; background: black; border-radius: 6px">
                </div>
                <div class="Register"
                    style="left: 49.46px; top: 25.25px; position: absolute; text-align: center; color: white; font-size: 15px; font-family: Montserrat; font-weight: 500; word-wrap: break-word">
                    Schedule Meeting</div>
            </div>
        </div>
        <div class="Group34" style="width: 1535px; height: 993px; left: 0px; top: 538px; position: absolute">
            <div class="Group30" style="width: 1535px; height: 993px; left: 0px; top: 0px; position: absolute">
                <div class="AskSomething"
                    style="width: 476px; height: 81px; left: 0px; top: 912px; position: absolute; text-align: center; color: #DBD9D9; font-size: 40px; font-family: Montserrat; font-weight: 300; line-height: 30px; word-wrap: break-word">
                    ask something</div>
                <div class="Group31" style="width: 1502px; height: 977px; left: 33px; top: 0px; position: absolute">
                    <div class="Group28" style="width: 1502px; height: 977px; left: 0px; top: 0px; position: absolute">
                        <div class="Rectangle4"
                            style="width: 695px; height: 977px; left: 0px; top: 0px; position: absolute; background: #D9D9D9; box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25); border-radius: 30px">
                        </div>
                        <div class="Rectangle5"
                            style="width: 638px; height: 108px; left: 39px; top: 828px; position: absolute; background: white; border-radius: 50px">
                        </div>
                        <div class="Rectangle6"
                            style="width: 638px; height: 108px; left: 864px; top: 65px; position: absolute; background: white; border-radius: 50px; border: 1px black solid">
                        </div>
                    </div>
                    <div class="TalkToYourAdvisorNoteAdvisorNameIsOnlineUsuallyDuringTheseHoursTimes"
                        style="width: 517px; height: 227px; left: 89px; top: 90px; position: absolute; text-align: center">
                        <span
                            style="color: black; font-size: 40px; font-family: Montserrat; font-weight: 300; text-decoration: underline; line-height: 30px; word-wrap: break-word">Talk
                            to your Advisor<br /></span><span
                            style="color: black; font-size: 16px; font-family: Montserrat; font-weight: 300; line-height: 30px; word-wrap: break-word">Note:
                            {advisor name} is online usually during these hours: {times}</span>
                    </div>
                    <div class="NeedToTalkToSomeElse"
                        style="width: 517px; height: 47px; left: 924px; top: 13px; position: absolute; text-align: center; color: black; font-size: 40px; font-family: Montserrat; font-weight: 300; line-height: 30px; word-wrap: break-word">
                        Need to talk to some else?</div>
                </div>
                <div class="AskSomething"
                    style="width: 517px; height: 129px; left: 9px; top: 864px; position: absolute; text-align: center; color: #CDCDCD; font-size: 40px; font-family: Montserrat; font-weight: 300; line-height: 30px; word-wrap: break-word">
                    ask something...</div>
            </div>
        </div>
    </div>
</div>

<script>
    function toggleChatbot() {
        var chatbot = document.getElementById("wholeChatBox");
        chatbot.style.display = chatbot.style.display === "none" ? "block" : "none";
    }

    async function sendMessage() {
        const userInput = document.getElementById('userInput').value;
        const responseContainer = document.getElementById('botResponse');

        try {
            const response = await fetch('http://localhost:8000/get-response/', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ input: userInput })
            });

            if (!response.ok) {
                throw new Error(`HTTP error! status: ${response.status}`);
            }

            const data = await response.json();
            responseContainer.textContent = data;
        } catch (error) {
            console.error('Error:', error);
            responseContainer.textContent = 'Sorry, there was an error processing your request.';
        }
    }

</script>

</html>